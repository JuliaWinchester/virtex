<!DOCTYPE html>
<html>
<head>
    <title>virtex: test</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="css/virtex.css" />
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0, shrink-to-fit=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.js"></script>

    <style>
        body {
            color: #fff;
            margin: 0px;
            padding: 0;
            overflow: hidden;
            width: 100%;
            height: 100%;
            background-color: #000;
        }
    </style>
</head>
<body>

    <div>
        <button id="zoomIn">+</button>
        <button id="zoomOut">-</button>
        <button id="fullscreen">fs</button>
        <button id="vr">vr</button>
    </div>

    <div id="viewer" class="virtex" style="width: 800px; height: 600px"></div>

    <script src="js/virtex.js"></script>
    <script src="js/three.min.js"></script>
    <script src="js/VRControls.js"></script>
    <script src="js/VREffect.js"></script>
    <script src="js/stats.min.js"></script>
    <script src="js/Detector.js"></script>
    <script src="js/webvr-polyfill.js"></script>
    <script src="js/key-codes.js"></script>
    <!--<script src="webvr-boilerplate/build/webvr-manager.js"></script>-->

    <script>
        /*
        * Debug parameters.
        */
        WebVRConfig = {
        /**
         * webvr-polyfill configuration
         */

        // Forces availability of VR mode.
        FORCE_ENABLE_VR: true, // Default: false.
        PREVENT_DISTORTION: true, // Default: false.
        // Complementary filter coefficient. 0 for accelerometer, 1 for gyro.
        //K_FILTER: 0.98, // Default: 0.98.
        // How far into the future to predict during fast motion.
        //PREDICTION_TIME_S: 0.040, // Default: 0.040 (in seconds).
        // Flag to disable touch panner. In case you have your own touch controls
        //TOUCH_PANNER_DISABLED: true, // Default: false.
        // Enable yaw panning only, disabling roll and pitch. This can be useful for
        // panoramas with nothing interesting above or below.
        //YAW_ONLY: true, // Default: false.
        // Enable the deprecated version of the API (navigator.getVRDevices).
        //ENABLE_DEPRECATED_API: true, // Default: false.
        // Scales the recommended buffer size reported by WebVR, which can improve
        // performance. Making this very small can lower the effective resolution of
        // your scene.
        //BUFFER_SCALE: 0.5, // default: 1.0
        // Allow VRDisplay.submitFrame to change gl bindings, which is more
        // efficient if the application code will re-bind it's resources on the
        // next frame anyway.
        // Dirty bindings include: gl.FRAMEBUFFER_BINDING, gl.CURRENT_PROGRAM,
        // gl.ARRAY_BUFFER_BINDING, gl.ELEMENT_ARRAY_BUFFER_BINDING,
        // and gl.TEXTURE_BINDING_2D for texture unit 0
        // Warning: enabling this might lead to rendering issues.
        //DIRTY_SUBMIT_FRAME_BINDINGS: true // default: false
        SHOW_EYE_CENTERS: true // Default: false.
        };
    </script>

    <script>
        $(function() {

            var objects = {
                ecorche: 'objects/ecorche.json',
                thekiss: 'objects/thekiss.json',
                henry: 'objects/henry.json'
            };

            // test cross origin
        //    var objects = {
        //        animalskull: 'http://files.universalviewer.io/manifests/nelis/animal-skull/animal-skull.json',
        //        ecorche: 'http://files.universalviewer.io/manifests/nelis/ecorche/ecorche.json',
        //        thekiss: 'http://files.universalviewer.io/manifests/foundobjects/thekiss/thekiss.json'
        //    };

            var viewport = virtex.create({
                element: "#viewer",
                object: objects.thekiss,
                fullscreenEnabled: true,
                showStats: false,
                vrEnabled: true
            });

            $('#zoomIn').on('click', function(e){
                e.preventDefault();

                viewport.zoomIn();
            });

            $('#zoomOut').on('click', function(e){
                e.preventDefault();

                viewport.zoomOut();
            });
            
            $('#fullscreen').on('click', function(e){
                e.preventDefault();

                viewport.enterFullscreen();
            });
            
            $('#vr').on('click', function(e){
                e.preventDefault();

                viewport.enterVRMode();
            });
        });
    </script>

</body>
</html>